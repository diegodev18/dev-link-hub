---
import LinkIcon from "@/components/icons/linkIcon.astro";

interface Props {
    title: string;
    date: Date;
    tags?: string[];
    image?: string;
    url?: string;
    creator: {
        youtube?: string;
        x?: string;
        website?: string;
    };
    content?: any;
    index: number;
}
const {
    title,
    date,
    tags,
    image,
    url,
    creator: { youtube, x, website },
    content: Content,
    index,
} = Astro.props;

const joinedTags = tags?.join(", ") || null;
---

<a
    href={url}
    title={title}
    target="_blank"
    class="group cursor-pointer hover:-rotate-1 relative px-3 py-2 rounded-2xl overflow-hidden transition"
>
    <div
        class="absolute flex gap-x-1 right-3 bottom-1 text-yellow-400 font-semibold z-50 opacity-0 group-hover:opacity-100 transition"
    >
        Click para más información!
        <LinkIcon />
    </div>
    <div class="z-20 pb-5">
        {
            joinedTags && (
                <p
                    title={joinedTags}
                    class="line-clamp-2 text-sm font-medium text-zinc-700"
                >
                    <span class="font-semibold">Tags:</span>
                    {joinedTags}.
                </p>
            )
        }
        <h1 class="text-3xl text-yellow-300 leading-8 font-semibold py-2">
            {title}
        </h1>
        <p
            class="flex text-[15px] gap-x-2 flex-wrap text-zinc-500 font-semibold"
        >
            <span
                >Created by <span class="text-zinc-400 font-bold"
                    >{youtube || x || website || "not user"}</span
                ></span
            >
            ~
            <span>{date.toLocaleDateString()}</span>
        </p>
        <span class="text-lg font-medium leading-6 overflow-y-scroll">
            <Content />
        </span>
    </div>
    {
        image && (
            <img
                src={image}
                alt=""
                class="absolute inset-0 scale-105 group-hover:scale-110 size-full object-cover object-center -z-50 transition"
            />
        )
    }
    <div
        class="absolute inset-0 scale-105 size-full object-cover object-center -z-10 opacity-70 bg-black"
    >
    </div>
</a>
